import{u as c,a as o,b as m,j as s,L as x}from"./index-e290ad6a.js";import{i as h}from"./man-ac27bdbf.js";import{f as b}from"./format-66ee9ebe.js";const f=()=>{const{data:a}=c(),{data:t,isLoading:l,isError:d,error:n}=o(),[i,{isSuccess:j,isLoading:r}]=m();return l?s.jsx("div",{children:"Loading..."}):(d&&(n==null||n.message,x),s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:"navbar navbar-expand-lg bg-warning",children:s.jsxs("div",{className:"container-fluid",children:[s.jsx("a",{className:"navbar-brand",href:"#",children:"Profile"}),s.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup",children:s.jsx("span",{className:"navbar-toggler-icon"})}),s.jsx("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:s.jsxs("div",{className:"navbar-nav",children:[s.jsx("a",{className:"nav-link active",href:"#",children:"Home"}),s.jsx("a",{className:"nav-link",href:"#",children:"Features"}),s.jsx("a",{className:"nav-link",href:"/",children:"Go to Home"})]})}),s.jsx("div",{children:s.jsx("button",{className:"btn btn-primary",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasExample",children:"View Profile"})})]})}),s.jsxs("div",{className:"offcanvas offcanvas-start",id:"offcanvasExample",children:[s.jsxs("div",{className:"offcanvas-header",children:[s.jsx("h5",{className:"offcanvas-title text-primary",id:"offcanvasExampleLabel",children:"Customer Profile"}),s.jsx("button",{type:"button",className:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),s.jsxs("div",{className:"offcanvas-body",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsx("img",{src:h,alt:"Customer",className:"rounded-circle border border-3 border-primary shadow",style:{width:"120px",height:"120px",objectFit:"cover"}})}),s.jsxs("div",{className:"px-3",children:[s.jsx("h4",{className:"text-secondary text-center mb-3",children:"Customer Details"}),s.jsxs("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("i",{className:"bi bi-person-circle text-primary me-2"}),s.jsxs("p",{className:"mb-0",children:[s.jsx("strong",{children:"Name:"})," ",(a==null?void 0:a.name)||"N/A"]})]}),s.jsxs("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("i",{className:"bi bi-envelope text-primary me-2"}),s.jsxs("p",{className:"mb-0",children:[s.jsx("strong",{children:"Email:"})," ",(a==null?void 0:a.email)||"N/A"]})]}),s.jsxs("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("i",{className:"bi bi-phone text-primary me-2"}),s.jsxs("p",{className:"mb-0",children:[s.jsx("strong",{children:"Mobile:"})," ",(a==null?void 0:a.mobile)||"N/A"]})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{className:"btn btn-primary w-75 shadow-sm","data-bs-dismiss":"offcanvas",children:"Close"})})]})]}),s.jsx("div",{className:"container my-4",children:s.jsx("div",{className:"table-responsive shadow-sm rounded",children:s.jsxs("table",{className:"table table-striped table-hover table-bordered align-middle",children:[s.jsx("thead",{className:"table-primary",children:s.jsxs("tr",{children:[s.jsx("th",{children:"ID"}),s.jsx("th",{children:"Customer ID"}),s.jsx("th",{children:"Location"}),s.jsx("th",{children:"Reason"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Payment Status"}),s.jsx("th",{children:"Booking Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:t&&t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-truncate",style:{maxWidth:"150px"},children:e._id}),s.jsx("td",{children:e.customerId}),s.jsx("td",{children:e.location}),s.jsx("td",{children:e.reason}),s.jsx("td",{children:b(new Date(e.date),"dd-MM-yyyy")}),s.jsx("td",{children:s.jsx("span",{className:`badge ${e.payment_status==="Paid"?"bg-success":"bg-danger"}`,children:e.payment_status})}),s.jsx("td",{children:e.booking_status==="Pending"?s.jsx("span",{className:"badge bg-warning text-dark",children:"Pending"}):e.booking_status==="Confirmed"?s.jsx("span",{className:"badge bg-success",children:"Order Confirmed"}):s.jsx("span",{className:"badge bg-danger",children:"Order Canceled"})}),s.jsx("td",{children:e.booking_status==="Pending"?s.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>i(e._id),disabled:r,children:r?"Canceling...":"Cancel Booking"}):e.booking_status==="Confirmed"?s.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>i(e._id),children:"Cancel Booking"}):s.jsx("span",{className:"text-muted",children:"No Actions"})})]},e._id))})]})})})]}))};export{f as default};
