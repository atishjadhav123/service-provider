import{e as h,r as b,y as x,j as e,f as u}from"./index-d388ae9f.js";import{u as j,c as N,a as i}from"./index.esm-11acb1a1.js";const w=()=>{var c;const[m,{isSuccess:d,isError:n,error:l,isLoading:t}]=h(),s=j({initialValues:{name:"",email:"",mobile:"",password:"",role:"",photo:""},validationSchema:N({name:i().required("Enter Name"),email:i().required("Enter Email").email(),mobile:i().required("Enter mobile"),password:i().required("Enter Password"),role:i().required("Enter Role"),photo:i().required("Enter photo")}),onSubmit:(a,{resetForm:p})=>{const r=new FormData;r.append("name",a.name),r.append("email",a.email),r.append("mobile",a.mobile),r.append("password",a.password),r.append("role",a.role),r.append("photo",a.photo),m(r),p()}});b.useEffect(()=>{d&&x.success("add profile success")},[d]);const o=a=>u({"form-control my-2":!0,"is-invalid":s.touched[a]&&s.errors[a],"is-valid":s.touched[a]&&!s.errors[a]});return t?e.jsx("h3",{className:"spinner-border"}):n?e.jsxs("h3",{children:["Failed to add profile: ",l==null?void 0:l.message]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mt-5",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-lg-6 col-md-8 col-sm-10",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("img",{src:"https://getbootstrap.com/docs/5.3/assets/brand/bootstrap-logo-shadow.png",alt:"Bootstrap Logo",className:"mb-3",style:{width:"100px"}}),e.jsx("h3",{children:"Welcome to the Registration Page"}),e.jsx("p",{className:"text-muted",children:"Create an account to get started"})]}),e.jsxs("div",{className:"card shadow-lg",children:[e.jsx("div",{className:"card-header bg-gradient-primary text-white text-center py-3",children:e.jsx("h4",{className:"mb-0",children:"Register"})}),e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"name",className:"form-label fw-bold",children:"Name"}),e.jsx("input",{id:"name",className:o("name"),...s.getFieldProps("name"),type:"text",placeholder:"Enter your name"}),s.touched.name&&s.errors.name&&e.jsx("span",{className:"invalid-feedback",children:s.errors.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label fw-bold",children:"Email"}),e.jsx("input",{id:"email",className:o("email"),...s.getFieldProps("email"),type:"email",placeholder:"Enter your email"}),s.touched.email&&s.errors.email&&e.jsx("span",{className:"invalid-feedback",children:s.errors.email})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"mobile",className:"form-label fw-bold",children:"Mobile"}),e.jsx("input",{id:"mobile",className:o("mobile"),...s.getFieldProps("mobile"),type:"text",placeholder:"Enter your mobile number"}),s.touched.mobile&&s.errors.mobile&&e.jsx("span",{className:"invalid-feedback",children:s.errors.mobile})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"photo",className:"form-label fw-bold",children:"Your Photo"}),e.jsx("input",{className:o("photo"),onChange:a=>s.setFieldValue("photo",a.target.files[0]),type:"file",placeholder:"Enter your photo number"}),s.touched.photo&&s.errors.photo&&e.jsx("span",{className:"invalid-feedback",children:s.errors.photo})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label fw-bold",children:"Password"}),e.jsx("input",{id:"password",className:o("password"),...s.getFieldProps("password"),type:"password",placeholder:"Enter your password"}),s.touched.password&&s.errors.password&&e.jsx("span",{className:"invalid-feedback",children:s.errors.password})]}),e.jsx("div",{children:e.jsxs("select",{className:o("role"),...s.getFieldProps("role"),children:[e.jsx("option",{selected:!0,children:" select Role"}),e.jsx("option",{value:"admin",children:"admin"}),e.jsx("option",{value:"customer",children:"customer"}),e.jsx("option",{value:"agency",children:"agency"}),e.jsx("option",{value:"professinal",children:"professinal"}),e.jsx("option",{value:"plmber",children:"electrician"}),e.jsx("option",{value:"penter",children:"penter"})]})}),e.jsx("div",{className:"d-grid mb-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:t,children:t?e.jsx("span",{className:"spinner-border spinner-border-sm",role:"status"}):"Register"})})]}),n&&e.jsx("div",{className:"alert alert-danger mt-3",role:"alert",children:((c=l==null?void 0:l.data)==null?void 0:c.message)||"Registration failed. Please try again."})]})]})]})})})})};export{w as default};
