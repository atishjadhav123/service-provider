import{n as h,o as x,j as s,y as d}from"./index-d388ae9f.js";import{f as b}from"./format-66ee9ebe.js";const g=()=>{const{data:t,isLoading:r,isError:i}=h(),[l,{isLoading:e}]=x(),o=async(n,a)=>{try{const c=await l({BookingData:{_id:n},status:a}).unwrap();d.success(`Booking status updated to ${a}`)}catch{d.error("Failed to update booking status")}};return r?s.jsx("div",{children:"Loading bookings..."}):i?s.jsx("div",{children:"Error fetching bookings"}):s.jsx("div",{className:"container",children:s.jsx("div",{className:"overflow-scroll",children:s.jsxs("table",{className:"table table-bordered table-hover table-active table-info table-sm table-responsive tab",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"ID"}),s.jsx("th",{children:"Customer ID"}),s.jsx("th",{children:"Professional ID"}),s.jsx("th",{children:"Booking Status"}),s.jsx("th",{children:"Location"}),s.jsx("th",{children:"Reason"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Payment Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:t&&t.map(n=>s.jsxs("tr",{children:[s.jsx("td",{children:n._id}),s.jsx("td",{children:n.customerId}),s.jsx("td",{children:n.professionalId}),s.jsx("td",{children:n.booking_status}),s.jsx("td",{children:n.location}),s.jsx("td",{children:n.reason}),s.jsx("td",{children:b(new Date(n.date),"dd-MM-yyyy")}),s.jsx("td",{children:n.payment_status}),s.jsx("td",{children:n.booking_status!=="Cancelled"&&n.booking_status!=="Completed"?s.jsxs(s.Fragment,{children:[n.booking_status==="Pending"&&s.jsx("button",{className:"btn btn-success btn-sm",onClick:()=>o(n._id,"Confirmed"),disabled:e,children:"Confirm"}),n.booking_status==="Confirmed"&&s.jsx("button",{className:"btn btn-primary btn-sm",disabled:!0,children:"Complete"}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>o(n._id,"Cancelled"),disabled:e,children:"Cancel"})]}):s.jsx("span",{className:"text-muted",children:"No actions available"})})]},n._id))})]})})})};export{g as default};
